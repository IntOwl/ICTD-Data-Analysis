<!DOCTYPE html>
<html>
<head>
  <style>
    .vega-actions a {
        margin-right: 12px;
        color: #757575;
        font-weight: normal;
        font-size: 13px;
    }
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@3.3.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@4"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
      var spec = {"config": {"view": {"width": 400, "height": 300, "stroke": null}, "mark": {"tooltip": null}, "facet": {"spacing": 0}, "title": {"anchor": "end"}}, "data": {"name": "data-db2248dca04b4dbedd137ad0f0f1b4a0"}, "mark": {"type": "area", "fillOpacity": 0.8, "interpolate": "monotone", "stroke": "lightgray", "strokeWidth": 0.5}, "bounds": "flush", "encoding": {"fill": {"type": "quantitative", "field": "mean_site_time", "legend": null, "scale": {"domain": [100, 5], "scheme": "redyellowblue"}}, "row": {"type": "ordinal", "field": "0", "header": {"labelAlign": "right", "labelAngle": 0}, "title": null}, "tooltip": [{"type": "ordinal", "field": "0"}, {"type": "quantitative", "field": "flows"}, {"type": "quantitative", "field": "mean_site_time"}, {"type": "quantitative", "field": "bin_min"}, {"type": "quantitative", "field": "bin_max"}], "x": {"type": "quantitative", "bin": "binned", "field": "bin_min", "title": "Flow Lengths (min)"}, "y": {"type": "quantitative", "axis": null, "field": "flows", "scale": {"range": [20, -14.0]}}}, "height": 20, "title": "Flow Lengths", "transform": [{"joinaggregate": [{"op": "sum", "field": "1 * 2) / sum(2", "as": "mean_site_time"}], "groupby": ["0"]}, {"bin": {"maxbins": 10}, "field": "1", "as": ["bin_max", "bin_min"]}, {"aggregate": [{"op": "sum", "field": "2", "as": "flows"}], "groupby": ["0", "mean_site_time", "bin_min", "bin_max"]}, {"impute": "flows", "key": "bin_min", "groupby": ["0", "mean_site_time"], "value": 0}], "width": 700, "$schema": "https://vega.github.io/schema/vega-lite/v3.3.0.json", "datasets": {"data-db2248dca04b4dbedd137ad0f0f1b4a0": [{"0": "adult videos", "1": 20.0, "2": 45129}, {"0": "adult videos", "1": 20.016666666666666, "2": 79}, {"0": "adult videos", "1": 19.983333333333334, "2": 2}, {"0": "ads", "1": 20.0, "2": 1692277}, {"0": "ads", "1": 19.983333333333334, "2": 3037}, {"0": "ads", "1": 20.016666666666666, "2": 4380}, {"0": "ads", "1": 40.0, "2": 267}, {"0": "ads", "1": 19.966666666666665, "2": 383}, {"0": "ads", "1": 20.033333333333335, "2": 62}, {"0": "ads", "1": 20.05, "2": 55}, {"0": "ads", "1": 39.983333333333334, "2": 1}, {"0": "ads", "1": 40.016666666666666, "2": 3}, {"0": "antivirus", "1": 20.0, "2": 3259}, {"0": "antivirus", "1": 19.983333333333334, "2": 2}, {"0": "antivirus", "1": 40.0, "2": 1}, {"0": "antivirus", "1": 20.016666666666666, "2": 2}, {"0": "google", "1": 20.0, "2": 3700718}, {"0": "google", "1": 20.016666666666666, "2": 9613}, {"0": "google", "1": 19.983333333333334, "2": 5693}, {"0": "google", "1": 40.0, "2": 1735}, {"0": "google", "1": 39.983333333333334, "2": 11}, {"0": "google", "1": 40.016666666666666, "2": 7}, {"0": "google", "1": 19.966666666666665, "2": 847}, {"0": "google", "1": 20.033333333333335, "2": 71}, {"0": "google", "1": 20.05, "2": 61}, {"0": "google", "1": 39.96666666666667, "2": 1}, {"0": "google dns", "1": 20.0, "2": 900593}, {"0": "google dns", "1": 20.016666666666666, "2": 1883}, {"0": "google dns", "1": 19.983333333333334, "2": 9162}, {"0": "google dns", "1": 20.05, "2": 55}, {"0": "google dns", "1": 19.966666666666665, "2": 3489}, {"0": "google dns", "1": 40.0, "2": 56}, {"0": "google dns", "1": 20.033333333333335, "2": 20}, {"0": "google dns", "1": 39.983333333333334, "2": 1}, {"0": "ucweb", "1": 20.0, "2": 29139}, {"0": "ucweb", "1": 19.983333333333334, "2": 75}, {"0": "ucweb", "1": 20.016666666666666, "2": 38}, {"0": "ucweb", "1": 40.0, "2": 2}, {"0": "ucweb", "1": 19.966666666666665, "2": 2}, {"0": "ucweb", "1": 20.033333333333335, "2": 13}, {"0": "ucweb", "1": 20.05, "2": 4}, {"0": "baidu", "1": 20.0, "2": 9450}, {"0": "baidu", "1": 19.983333333333334, "2": 16}, {"0": "baidu", "1": 20.016666666666666, "2": 21}, {"0": "facebook", "1": 20.0, "2": 1686379}, {"0": "facebook", "1": 39.983333333333334, "2": 7}, {"0": "facebook", "1": 40.0, "2": 1699}, {"0": "facebook", "1": 19.983333333333334, "2": 3247}, {"0": "facebook", "1": 20.016666666666666, "2": 4667}, {"0": "facebook", "1": 20.033333333333335, "2": 62}, {"0": "facebook", "1": 20.05, "2": 38}, {"0": "facebook", "1": 19.966666666666665, "2": 1146}, {"0": "facebook", "1": 40.016666666666666, "2": 1}, {"0": "facebook", "1": 39.96666666666667, "2": 1}, {"0": "messaging", "1": 20.0, "2": 361033}, {"0": "messaging", "1": 19.983333333333334, "2": 658}, {"0": "messaging", "1": 20.016666666666666, "2": 939}, {"0": "messaging", "1": 40.0, "2": 142}, {"0": "messaging", "1": 19.966666666666665, "2": 159}, {"0": "messaging", "1": 20.033333333333335, "2": 4}, {"0": "messaging", "1": 20.05, "2": 4}, {"0": "social media", "1": 20.0, "2": 274742}, {"0": "social media", "1": 19.983333333333334, "2": 388}, {"0": "social media", "1": 20.016666666666666, "2": 699}, {"0": "social media", "1": 40.0, "2": 75}, {"0": "social media", "1": 19.966666666666665, "2": 120}, {"0": "social media", "1": 39.983333333333334, "2": 1}, {"0": "games", "1": 20.0, "2": 68558}, {"0": "games", "1": 20.016666666666666, "2": 179}, {"0": "games", "1": 19.983333333333334, "2": 302}, {"0": "games", "1": 19.966666666666665, "2": 3}, {"0": "games", "1": 40.0, "2": 21}, {"0": "streaming", "1": 20.0, "2": 538273}, {"0": "streaming", "1": 20.016666666666666, "2": 1239}, {"0": "streaming", "1": 19.983333333333334, "2": 1070}, {"0": "streaming", "1": 40.0, "2": 47}, {"0": "streaming", "1": 19.966666666666665, "2": 60}, {"0": "streaming", "1": 39.983333333333334, "2": 1}, {"0": "streaming", "1": 20.05, "2": 3}, {"0": "sports", "1": 20.0, "2": 5304}, {"0": "sports", "1": 19.983333333333334, "2": 12}, {"0": "sports", "1": 20.016666666666666, "2": 16}, {"0": "cloud and cdns", "1": 20.0, "2": 216405}, {"0": "cloud and cdns", "1": 20.016666666666666, "2": 742}, {"0": "cloud and cdns", "1": 19.983333333333334, "2": 449}, {"0": "cloud and cdns", "1": 19.966666666666665, "2": 47}, {"0": "cloud and cdns", "1": 40.0, "2": 109}, {"0": "cloud and cdns", "1": 20.033333333333335, "2": 4}, {"0": "cloud and cdns", "1": 39.983333333333334, "2": 1}, {"0": "cloud and cdns", "1": 20.05, "2": 3}, {"0": "android stuff", "1": 20.0, "2": 1374469}, {"0": "android stuff", "1": 20.016666666666666, "2": 3287}, {"0": "android stuff", "1": 19.983333333333334, "2": 2434}, {"0": "android stuff", "1": 19.966666666666665, "2": 157}, {"0": "android stuff", "1": 40.0, "2": 146}, {"0": "android stuff", "1": 20.05, "2": 21}, {"0": "android stuff", "1": 20.033333333333335, "2": 32}, {"0": "android stuff", "1": 40.016666666666666, "2": 2}, {"0": "shopping", "1": 20.0, "2": 104822}, {"0": "shopping", "1": 19.983333333333334, "2": 112}, {"0": "shopping", "1": 20.05, "2": 8}, {"0": "shopping", "1": 20.033333333333335, "2": 7}, {"0": "shopping", "1": 20.016666666666666, "2": 224}, {"0": "shopping", "1": 19.966666666666665, "2": 34}, {"0": "shopping", "1": 40.0, "2": 96}, {"0": "shopping", "1": 40.05, "2": 1}, {"0": "shopping", "1": 40.016666666666666, "2": 1}, {"0": "shopping", "1": 39.983333333333334, "2": 1}, {"0": "stun", "1": 20.0, "2": 1636}, {"0": "microsoft", "1": 20.0, "2": 12218}, {"0": "microsoft", "1": 20.016666666666666, "2": 9}, {"0": "microsoft", "1": 19.983333333333334, "2": 15}, {"0": "microsoft", "1": 40.0, "2": 10}, {"0": "microsoft", "1": 40.016666666666666, "2": 1}, {"0": "blogs", "1": 20.0, "2": 37795}, {"0": "blogs", "1": 20.016666666666666, "2": 100}, {"0": "blogs", "1": 19.983333333333334, "2": 36}, {"0": "blogs", "1": 40.0, "2": 10}, {"0": "blogs", "1": 20.033333333333335, "2": 5}, {"0": "storage", "1": 20.0, "2": 7268}, {"0": "storage", "1": 20.016666666666666, "2": 9}, {"0": "storage", "1": 20.033333333333335, "2": 4}, {"0": "storage", "1": 20.05, "2": 1}, {"0": "news", "1": 20.0, "2": 85056}, {"0": "news", "1": 19.983333333333334, "2": 226}, {"0": "news", "1": 20.016666666666666, "2": 240}, {"0": "news", "1": 40.0, "2": 1}, {"0": "news", "1": 19.966666666666665, "2": 4}, {"0": "news", "1": 20.05, "2": 2}, {"0": "news", "1": 20.033333333333335, "2": 9}, {"0": "ampproject", "1": 20.0, "2": 1196678}, {"0": "ampproject", "1": 20.016666666666666, "2": 3600}, {"0": "ampproject", "1": 19.983333333333334, "2": 2250}, {"0": "ampproject", "1": 20.033333333333335, "2": 29}, {"0": "ampproject", "1": 20.05, "2": 25}, {"0": "ampproject", "1": 40.0, "2": 105}, {"0": "ampproject", "1": 19.966666666666665, "2": 389}, {"0": "ampproject", "1": 39.983333333333334, "2": 1}, {"0": "other", "1": 20.0, "2": 2110248}, {"0": "other", "1": 20.016666666666666, "2": 5565}, {"0": "other", "1": 19.983333333333334, "2": 4897}, {"0": "other", "1": 20.033333333333335, "2": 38}, {"0": "other", "1": 40.0, "2": 468}, {"0": "other", "1": 19.966666666666665, "2": 651}, {"0": "other", "1": 20.05, "2": 12}, {"0": "other", "1": 40.03333333333333, "2": 1}, {"0": "other", "1": 39.983333333333334, "2": 1}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));

  </script>
</body>
</html>